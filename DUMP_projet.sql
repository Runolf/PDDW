DROP DATABASE IF EXISTS bedeprog;
CREATE DATABASE bedeprog;
USE bedeprog;

CREATE TABLE Utilisateurs(
	ID INTEGER(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	Nom VARCHAR(255) NOT NULL,
	Prenom VARCHAR(255) NOT NULL,
	Pseudo VARCHAR(255) NULL,
	Pass VARCHAR(255) NULL,
	DateNaissance DATE NULL,
	AdresseMail VARCHAR(255) NULL,
	Adresse VARCHAR(255) NULL,
	CP INTEGER(11) NULL,
	Ville VARCHAR(255) NULL,
	NumTelephone INTEGER(15) NULL,
	RoleEmployee_ID INTEGER(11) NOT NULL REFERENCES RoleUtilisateur(ID)
)ENGINE=INNODB;

CREATE TABLE RoleUtilisateur(
	ID INTEGER(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	Nom VARCHAR(255) NULL
)ENGINE=INNODB;

CREATE TABLE Vente(
	ID INTEGER(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	DateTransaction DATETIME NOT NULL,
	Utilisateur_ID INTEGER(11) NOT NULL REFERENCES Utilisateurs(ID),
	Paiement_ID INTEGER(11) NOT NULL REFERENCES Paiement(ID),
	StatutVente INTEGER(11) NULL
)ENGINE=INNODB;

CREATE TABLE Vente(
	ID INTEGER(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	DateTransaction DATETIME NOT NULL,
	Utilisateur_ID INTEGER(11) NOT NULL REFERENCES Utilisateurs(ID),
	Paiement_ID INTEGER(11) NOT NULL REFERENCES Paiement(ID),
	StatutVente INTEGER(11) NULL
)ENGINE=INNODB;

CREATE TABLE Articles(
	ID INTEGER(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	EAN INTEGER(13) NOT NULL,
	ISBN INTEGER(13) NULL,
	Type_id INTEGER(11) NOT NULL REFERENCES TypeArticles(ID),
	Auteur varchar(255) FOREIGN KEY NULL,
	Dessinateur VARCHAR(255) NULL,
	Edition VARCHAR(225) NULL,
	Collection varchar(255) null,
	Prix DOUBLE(11) NULL,
	visible BOOLEAN
)ENGINE=INNODB;

CREATE TABLE TypeArticle(
	ID INTEGER(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	Nom VARCHAR(255) NULL
)ENGINE=INNODB;

/*
CREATE TABLE Articles(
	ID INTEGER(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	EAN INTEGER(13) NOT NULL,
	ISBN INTEGER(13) NULL,
	Auteur VARCHAR(255) FOREIGN KEY NULL,
	Edition VARCHAR(225) NULL FOREIGN KEY,
	Dessinateur VARCHAR(255) NULL FOREIGN KEY,
	Collection VARCHAR(255) NULL FOREIGN KEY,
	Prix DOUBLE(11) NULL,
	Visible BOOLEAN
)ENGINE=INNODB;

CREATE TABLE Auteur(
	ID INTEGER(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	Nom VARCHAR(255) NOT NULL,
	Prenom VARCHAR(255) NOT NULL,
	DateNaissance DATE NULL
	Adresse VARCHAR(255) NULL,
	CP INTEGER(11) NULL,
	Ville VARCHAR(255) NULL,
	Mail VARCHAR(255) NULL,
	Telephone VARCHAR(15) NULL
)ENGINE=INNODB;

CREATE TABLE Edition(
	ID INTEGER(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	Nom VARCHAR(255) NOT NULL,
	Adresse VARCHAR(255) NULL,
	CP INTEGER(11) NULL,
	Ville VARCHAR(255) NULL,
	Mail VARCHAR(255) NULL,
	Telephone VARCHAR(15) NULL
)ENGINE=INNODB;

CREATE TABLE Collection(
	ID INTEGER(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	Nom VARCHAR(255) NULL,
	Type VARCHAR(255) NULL
)ENGINE=INNODB;

CREATE TABLE Dessinateur(
	ID INTEGER(11) NOT NULL AUTO_INCREMENT PRIMARY KEY,
	Nom VARCHAR(255) NULL,
	Prenom VARCHAR(255) NULL,
	Adresse VARCHAR(255) NULL,
	CP INTEGER(11) NULL,
	Ville VARCHAR(255) NULL,
	Mail VARCHAR(255) NULL,
	Telephone VARCHAR(15) NULL
)ENGINE=INNODB;
*/